(function(e){function t(t){for(var i,n,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)n=o[u],s[n]&&d.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},s={app:0},r=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var p=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"07bb":function(e,t,a){},"28f3":function(e,t,a){"use strict";var i=a("8afc"),s=a.n(i);s.a},5490:function(e,t,a){"use strict";var i=a("bdf3"),s=a.n(i);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex flex-column vh-100 avenir",attrs:{id:"app"}},[a("div",{staticClass:"bb b--gray bg-washed-yellow",attrs:{id:"top"}}),a("div",{staticClass:"flex flex-auto",attrs:{id:"middle"}},[a("div",{staticClass:"br b--light-gray overflow-auto pa2-ns",class:{collapsed:!e.sidebarOpen},attrs:{id:"sidebar"}},[a("div",{staticClass:"container br bg-white b--light-gray overflow-auto pa2 bw2"},[a("FeatureInfo"),a("Filters"),a("AnimationControls"),e._m(0)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.sidebarOpen,expression:"!sidebarOpen"}],staticClass:"relative br b--gray bw2",staticStyle:{width:"20px"},attrs:{id:"sidebar-rim"},on:{click:function(t){e.sidebarOpen=!0}}}),a("div",{staticClass:"relative flex-auto",attrs:{id:"map-container"}},[a("Map"),a("div",{staticClass:"absolute bg-white f3 br bt bb br--right br-100 b--magenta bw1 magenta pa1 pointer grow fw8",attrs:{id:"sidebarToggle"},on:{click:function(t){e.sidebarOpen=!e.sidebarOpen}}},[e.sidebarOpen?e._e():a("span",[e._v("→")]),e.sidebarOpen?a("span",[e._v("←")]):e._e()]),a("div",{staticClass:"absolute h-100 w-100",attrs:{id:"overlay"}},[a("Legend")],1)],1)]),a("div",{staticClass:"bt b--light-gray flex-none",attrs:{id:"bottom"}})])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"credits"},[e._v("Made by "),a("a",{attrs:{href:"https://hire.stevebennett.me"}},[e._v("Steve Bennett")]),e._v(". "),a("br"),e._v(" Data comes from https://fippe.de")])}],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"absolute absolute--fill",attrs:{id:"map"}})},o=[],l=a("b7d4"),c=a.n(l),p=(a("5e64"),a("602d"));const u=new i["a"];var d=a("3243");function f(e){return 4===String(e).length&&(e=`${e}-01-01`),Math.floor(new Date(e)/864e5)}function m(e){const[t,a]=e.getBounds().toArray()[0].map(Math.floor),[i,s]=e.getBounds().toArray()[1].map(Math.ceil);return[t,a,i,s]}let h,g;async function v(e,t){const a=e?"alldata.json":"https://fippe-geojson.glitch.me/alldata.json";console.log("1",t);const i=await window.fetch(a).then(e=>e.json());if(console.log("2",t),g&&e)return;h=i;const s={};h.features.forEach((e,t)=>{e.id=t;const[a,i,s]=e.properties.id.split("_");e.properties.year=+a.slice(0,4),e.properties.days=f(e.properties.id.slice(0,10)),e.properties.x=+s||0,e.properties.y=+i||0,e.properties.global=/global/.test(e.properties.id)}),h.features.sort((e,t)=>e.properties.days-t.properties.days);for(const r of h.features){for(const a of r.properties.participants)s[a]||(s[a]={expeditions:0,firstExpeditionDays:r.properties.days}),s[a].expeditions++;r.properties.participantsString=r.properties.participants.join(", ").toLowerCase(),r.properties.participantsCount=r.properties.participants.length;const e=r.properties.participants.map(e=>s[e].expeditions);r.properties.experienceMax=Math.max(...e),r.properties.experienceMin=Math.min(...e),r.properties.experienceTotal=e.reduce((e,t)=>e+t,0);const t=r.properties.participants.map(e=>r.properties.days-s[e].firstExpeditionDays);r.properties.experienceDaysMax=t.length?Math.max(...t):0,r.properties.experienceDaysMin=t.length?Math.min(...t):0,r.properties.experienceDaysTotal=t.length?t.reduce((e,t)=>e+t,0):0}t.U.setData("hashes",h),u.$emit("hashes-loaded",h),window.hashes=h,console.log("3",t),$({map:t}),g=!0}function b(){const e=["interpolate-hcl",["linear"],["get","days"],f(2008),"hsl(200, 80%, 40%)",f(2016),"red",f(2021),"hsl(60,100%,40%)",f(2022),"hsl(120, 100%, 70%)"];return e}function y(){const e=["interpolate-hcl",["linear"],["get","experienceMax"],1,"hsl(200, 80%, 40%)",10,"hsl(280, 80%, 40%)",50,"red",100,"hsl(60,100%,50%)",250,"hsl(120, 100%, 70%)"];return e}function x(){const e=["interpolate-hcl",["linear"],["get","experienceDaysMax"],0,"hsl(200, 80%, 40%)",365,"hsl(280, 80%, 40%)",730,"red",1825,"hsl(60,100%,50%)",3650,"hsl(120, 100%, 70%)",7300,"hsl(120, 100%, 70%)"];return e}function _(e){return{year:b(),experienceMax:y(),experienceDaysMax:x()}[e.colorVis]}function w(e){const t=[];if("experienceMax"===e.colorVis)for(let a of[1,5,10,20,50,100,250]){const i=d["a"].parse(_(e)).evaluate({type:"Feature",properties:{experienceMax:a},geometry:null});t.push([a,i])}else if("experienceDaysMax"===e.colorVis)for(let a of[0,1,2,5,10]){const i=d["a"].parse(_(e)).evaluate({type:"Feature",properties:{experienceDaysMax:365*a},geometry:null});t.push([a,i])}else for(let a=2008;a<=2022;a++){const i=d["a"].parse(_(e)).evaluate({type:"Feature",properties:{year:a,days:f(a)},geometry:null});t.push([a,i])}return t}function C({isGlow:e,isFlash:t,filters:a}={}){const i=t?30:e?2:0,s=e=>a.scaleExpedition?["+",["*",["log2",["length",["get","participants"]]],e],i]:["+",e,i];return["interpolate",["linear"],["zoom"],1,t?5:e?0:s(1),3,t?10:s(1),5,t?15:s(2),8,s(3),10,s(4),12,s(e?16:10)]}function M({map:e,filters:t}){const a="all"===t.outcome||["==",["get","success"],"success"===t.outcome];e.U.setFilter(/hashes-/,["all",["in",(t.participants||"").replace(/ /g,"_").toLowerCase(),["get","participantsString"]],[">=",["get","participantsCount"],t.minParticipants],[">=",["get","year"],t.minYear],["<=",["get","year"],t.maxYear],a]),e.U.setCircleRadius("hashes-circles",C({filters:t}))}function O({map:e,filters:t}){const a=!0,i=!e.getLayer("hashes-circles");i&&(e.U.addGeoJSON("hashes"),v(!0,e).then(()=>$({map:e,filters:t,show:!0})),v(!1,e).then(()=>$({map:e,filters:t,show:!0}))),e.U.addCircle("hashes-glow","hashes",{circleColor:["step",["zoom"],_(t),3,["case",["get","success"],_(t),"transparent"]],circleOpacity:["feature-state","opacity"],circleBlur:.5,circleRadius:C({isGlow:!0,filters:t}),circleSortKey:["get","days"]}),e.U.addCircle("hashes-circles","hashes",{circleStrokeColor:["case",["get","success"],["case",["get","global"],"#fff","hsla(0,0%,30%,0.5)"],_(t)],circleStrokeWidth:["step",["zoom"],["case",["get","global"],0,0],1,["case",["get","global"],1,0],3,["case",["get","global"],2,["case",["get","success"],0,2]],6,["case",["get","global"],2,["case",["get","success"],.5,2]],8,["case",["get","global"],4,["case",["get","success"],1,2]]],circleColor:["step",["zoom"],_(t),3,["case",["get","success"],_(t),"transparent"]],circleRadius:C({filters:t}),circleSortKey:["get","days"],circleOpacity:["feature-state","opacity"],circleStrokeOpacity:["case",["feature-state","show"],1,0]}),e.U.addCircle("hashes-flash","hashes",{circleStrokeColor:["case",["get","success"],"hsla(0,0%,30%,0.5)",_(t)],circleColor:["step",["zoom"],_(t),4,["case",["get","success"],_(t),"transparent"]],circleRadius:C({isFlash:!0,filters:t}),circleSortKey:["get","days"],circleOpacity:["feature-state","flashOpacity"],circleStrokeOpacity:["case",["feature-state","show"],1,0],circleBlur:1.5}),e.U.addSymbol("hashes-label","hashes",{textField:["step",["zoom"],["slice",["get","id"],0,4],11,["slice",["get","id"],0,10],12,["concat",["slice",["get","id"],0,10],"\n",["get","participantsString"]]],textSize:["interpolate",["linear"],["zoom"],10,10,12,12],textOffset:[0,1.5],textColor:_(t),textHaloColor:a?"hsla(0,0%,0%,0.4)":"hsla(0,0%,100%,0.5)",textHaloWidth:1,textOpacity:["feature-state","opacity"],minzoom:9}),M({map:e,filters:t}),i&&(e.U.hoverPointer(/hashes-circles/),e.on("click","hashes-circles",e=>{console.log(e),u.$emit("select-feature",e.features[0])}),e.on("click","hashes-glow",e=>{console.log(e),u.$emit("select-feature",e.features[0])}),e.U.hoverPopup("hashes-glow",e=>`<div>${e.properties.id}</div> ${JSON.parse(e.properties.participants).join(", ")}`,{closeButton:!1})),u.$emit("colors-change",{colorVis:t.colorVis,colors:w(t)})}function $({map:e,filters:t,show:a}){for(const i of h.features)e.setFeatureState({id:i.id,source:"hashes"},{opacity:a?1:0,show:a,flashOpacity:0})}function S({map:e,filters:t,minx:a,maxx:i,miny:s,maxy:r,animationDay:n}){for(const o of h.features)if(o.properties.x>=a&&o.properties.x<=i&&o.properties.y>=s&&o.properties.y<=r||o.properties.global){const t=n-o.properties.days;if(t<0)break;t>=0&&t<=730&&(e.setFeatureState({id:o.id,source:"hashes"},{show:t>0,opacity:t<0?0:Math.max(1-t/730,.2),flashOpacity:t<0?0:Math.max(1-t/120,0)}),0)}}let F={};function D(e,t){return F[e]&&F[e][t]||{expeditions:0,successes:0,failures:0}}function A(e){const[t,a,i,s]=m(e),r=[];for(let o=t;o<=i;o++)for(let e=a;e<=s;e++){const t=e<=0?-1:1;r.push({type:"Feature",geometry:{type:"Polygon",coordinates:[[[o,e],[o+1,e],[o+1,e+t],[o,e+t],[o,e]]]},properties:{x:o,y:e,...D(o,e)}})}const n={type:"FeatureCollection",features:r};return console.log(n),n}function k(e){e.getBounds().getNorth()-e.getBounds().getSouth()<40?e.U.setData("graticules",A(e)):e.U.setData("graticules")}function j({map:e,filters:t}){const a=!e.getSource("graticules");a&&(e.U.addGeoJSON("graticules"),e.on("moveend",()=>{k(e)}),k(e)),e.U.addLine("graticules-line","graticules",{lineColor:["case",[">",["get","successes"],0],"hsla(0,0%,30%,0.15)","hsla(0,0%,30%,0.15)"]}),e.U.addFill("graticules-fill","graticules",{fillColor:["case",[">",["get","successes"],0],"transparent","hsla(0,0%,30%,0.2)"],fillOutlineColor:"transparent"})}u.$on("hashes-loaded",e=>{F={};for(const t of e.features){const{x:e,y:a}=t.properties;t.properties.global||(F[e]=F[e]||{},F[e][a]=F[e][a]||{expeditions:0,successes:0,failures:0},F[e][a].expeditions++,t.properties.success?F[e][a].successes++:F[e][a].failures++)}k(window.map)});var P={data:()=>({filters:{minYear:2008,maxYear:2022,colorVis:"experienceDaysMax",participants:"",outcome:"all"},animationDay:0}),async mounted(){c.a.accessToken="pk.eyJ1Ijoic3RldmFnZSIsImEiOiJja3p5cHdtOGEwMm1hM2RtdzJlYXJrajhrIn0.veC37cfBaslGu1MteavjNA";const e=new c.a.Map({container:"map",center:[144.96,-37.81],zoom:7,style:"mapbox://styles/stevage/ckzoqlsr1000115qtr5pendfa/draft",hash:"center"});p["a"].init(e,c.a),window.map=e,window.map.hash="center",this.map=e,window.app.Map=this,await e.U.onLoad(),this.filters=window.Filters.filters,this.initMapContent(e),u.$on("filters-change",e=>{this.filters=e,this.updateMapStyle()}),u.$on("animation-change",e=>e?this.startAnimation():this.stopAnimation())},methods:{findPairs(e){const t={};let a=[0,null];for(const s of e.features)for(const e of s.properties.participants){t[e]||(t[e]={});for(const i of s.properties.participants)e!==i&&(t[e][i]=(t[e][i]||0)+1,t[e][i]>a[0]&&(a=[t[e][i],e,i]))}console.log("Maximum pair",a);let i="";for(const[s,r]of Object.entries(t))for(const[e,t]of Object.entries(r))t>50&&s>e&&console.log(s,e,t);console.log(i);for(const[s,r]of Object.entries(t).filter(e=>"Stevage"===e[0]))for(const[e,t]of Object.entries(r))console.log(s,e,t)},async initMapContent(e){this.updateMapStyle()},updateMapStyle(){O({map:this.map,filters:this.filters}),j({map:this.map,filters:this.filters})},startAnimation(){this.stopAnimation(),this.animationDay=f(`${this.filters.minYear}-01-01`),$({map:this.map,filters:this.filters,show:!1}),this.lastFrame=0,this.timerFunc=(e=>{if(!this.timer||this.animationDay>f(new Date))u.$emit("animation-ended"),this.stopAnimation();else{if(this.updateAnimation(),this.lastFrame){const t=e-this.lastFrame,a=Math.max(1,Math.floor(t/10));this.animationDay+=a}this.lastFrame=e,requestAnimationFrame(this.timerFunc)}}),this.timer=1,requestAnimationFrame(this.timerFunc)},stopAnimation(){this.timer,this.timer=0,$({map:this.map,filters:this.filters,show:!0})},updateAnimation(){const[e,t,a,i]=m(this.map);u.$emit("animation-cycle",{animationDay:this.animationDay}),S({map:this.map,filters:this.filters,minx:e,miny:t,maxx:a,maxy:i,animationDay:this.animationDay})}}},E=P,Y=(a("5490"),a("2877")),U=Object(Y["a"])(E,n,o,!1,null,null,null);U.options.__file="Map.vue";var N=U.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.p?a("div",[e.imageUrl?a("img",{staticClass:"image",attrs:{src:e.imageUrl}}):e._e(),a("h2",[a("a",{attrs:{href:"https://geohashing.site/geohashing/"+e.p.id,target:"_blank"}},[e._v(e._s(e.p.id))])]),e.p.success?a("div",[e._v("Successful geohash!")]):e._e(),e.p.success?e._e():a("div",[e._v("Failed geohash")]),a("h4",[e._v(" Participants")]),e._l(JSON.parse(e.p.participants),function(t){return a("div",[e._v(e._s(t))])}),a("h4",[e._v("Experience")]),a("div",[e._v("Years (most experienced): "+e._s((e.p.experienceDaysMax/365).toFixed(2)))])],2):e._e()},z=[],L={name:"FeatureInfo",data:()=>({feature:void 0,ignoreProps:["id","Longitude","Latitude","image_url"]}),computed:{p(){return this.feature&&this.feature.properties},imageUrl(){return this.p&&this.p.image_url}},created(){window.app.FeatureInfo=this,u.$on("select-feature",e=>this.feature=e)}},I=L,J=(a("28f3"),Object(Y["a"])(I,V,z,!1,null,"412b6cd4",null));J.options.__file="FeatureInfo.vue";var B=J.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relative h-100",attrs:{id:"Legend"}},[a("div",{staticClass:"bg-dark-gray light-gray b--gray ba shadow-1 pa2 ma2 bottom absolute bottom-2"},[a("h3",[e._v(e._s(e.title))]),e._l(e.colors.slice().reverse(),function(t){var i=t[0],s=t[1];return a("div",[a("div",{staticClass:"pill",style:{backgroundColor:s}}),e._v(e._s(i))])})],2)])},q=[],G={name:"Legend",data:()=>({colors:window.app.yearColors,colorVis:"experienceDaysMax"}),created(){window.Legend=this,u.$on("colors-change",({colorVis:e,colors:t})=>{console.log(t),this.colors=t,this.colorVis=e})},computed:{title(){return{experienceMax:"Expeditions",experienceDaysMax:"Years of geohashing",year:"Year"}[this.colorVis]}}},R=G,H=(a("8faa"),Object(Y["a"])(R,T,q,!1,null,"58842f40",null));H.options.__file="Legend.vue";var K=H.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{disabled:!e.enabled},attrs:{id:"Filters"}},[a("h3",[e._v("Filters")]),a("label",{staticClass:"mb2"},[a("div",[e._v("Participant name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.participants,expression:"filters.participants"}],staticClass:"mr1",attrs:{id:"filter-by-participants",type:"text",disabled:!e.enabled},domProps:{value:e.filters.participants},on:{input:function(t){t.target.composing||e.$set(e.filters,"participants",t.target.value)}}})]),a("label",{staticClass:"mb2"},[a("div",[e._v("Minimum participants")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.filters.minParticipants,expression:"filters.minParticipants",modifiers:{number:!0}}],staticClass:"mr1",attrs:{id:"filter-by-participants",type:"number",min:"1",disabled:!e.enabled},domProps:{value:e.filters.minParticipants},on:{input:function(t){t.target.composing||e.$set(e.filters,"minParticipants",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),a("label",{staticClass:"mb2"},[a("div",[e._v("Minimum year")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.filters.minYear,expression:"filters.minYear",modifiers:{number:!0}}],staticClass:"mr1",attrs:{id:"filter-by-participants",type:"number",min:"2008",max:e.filters.maxYear,disabled:!e.enabled},domProps:{value:e.filters.minYear},on:{input:function(t){t.target.composing||e.$set(e.filters,"minYear",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),a("label",[a("div",[e._v("Maximum year")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.filters.maxYear,expression:"filters.maxYear",modifiers:{number:!0}}],staticClass:"mr1",attrs:{id:"filter-by-participants",type:"number",min:"2008",max:"2030",disabled:!e.enabled},domProps:{value:e.filters.maxYear},on:{input:function(t){t.target.composing||e.$set(e.filters,"maxYear",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),a("h5",[e._v("Outcome")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.outcome,expression:"filters.outcome"}],staticClass:"mr1",attrs:{type:"radio",value:"all",disabled:!e.enabled},domProps:{checked:e._q(e.filters.outcome,"all")},on:{change:function(t){e.$set(e.filters,"outcome","all")}}}),e._v("All")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.outcome,expression:"filters.outcome"}],staticClass:"mr1",attrs:{type:"radio",value:"success",disabled:!e.enabled},domProps:{checked:e._q(e.filters.outcome,"success")},on:{change:function(t){e.$set(e.filters,"outcome","success")}}}),e._v("Successes")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.outcome,expression:"filters.outcome"}],staticClass:"mr1",attrs:{type:"radio",value:"failure",disabled:!e.enabled},domProps:{checked:e._q(e.filters.outcome,"failure")},on:{change:function(t){e.$set(e.filters,"outcome","failure")}}}),e._v("Failures")]),a("h4",{staticClass:"mb1"},[e._v("Visualisation")]),a("label",{staticClass:"mb2"},[a("span",[e._v("Color by")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.colorVis,expression:"filters.colorVis"}],attrs:{disabled:!e.enabled},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters,"colorVis",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"year"}},[e._v("Year")]),a("option",{attrs:{value:"experienceMax"}},[e._v("Hasher's previous expeditions")]),a("option",{attrs:{value:"experienceDaysMax"}},[e._v("Hasher's years of experience")])])]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.scaleExpedition,expression:"filters.scaleExpedition"}],staticClass:"mr1",attrs:{id:"filter-by-participants",type:"checkbox",disabled:!e.enabled},domProps:{checked:Array.isArray(e.filters.scaleExpedition)?e._i(e.filters.scaleExpedition,null)>-1:e.filters.scaleExpedition},on:{change:function(t){var a=e.filters.scaleExpedition,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=null,n=e._i(a,r);i.checked?n<0&&e.$set(e.filters,"scaleExpedition",a.concat([r])):n>-1&&e.$set(e.filters,"scaleExpedition",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.filters,"scaleExpedition",s)}}}),a("span",[e._v("Scale by expedition size")])])])},X=[],Z={name:"Filters",data:()=>({enabled:!0,filters:{participants:"",minParticipants:0,scaleExpedition:!1,minYear:2008,maxYear:2022,outcome:"all",colorVis:"year"}}),created(){window.Filters=this,u.$on("animation-change",e=>this.enabled=!e)},watch:{filters:{deep:!0,handler(){this.filters.minYear>this.filters.maxYear&&(this.filters.minYear=this.filters.maxYear),u.$emit("filters-change",this.filters)}}}},Q=Z,ee=(a("6687"),Object(Y["a"])(Q,W,X,!1,null,"7d8f3c42",null));ee.options.__file="Filters.vue";var te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"AnimationControls"}},[a("h3",[e._v("Animation")]),a("button",{on:{click:e.toggleAnimation}},[e._v(e._s(e.running?"Stop":"Start"))]),e.running&&e.animationDay?a("p",[e._v(e._s(new Date(864e5*e.animationDay).toISOString().slice(0,7)))]):e._e()])},ie=[],se={name:"AnimationControls",data:()=>({running:!1,animationDay:""}),created(){window.AnimationControls=this,u.$on("animation-cycle",({animationDay:e})=>this.animationDay=e),u.$on("animation-ended",()=>{console.log("not running"),this.running=!1})},methods:{async toggleAnimation(){this.running=!this.running,console.log(this.running),await this.$nextTick(),u.$emit("animation-change",this.running)}}},re=se,ne=Object(Y["a"])(re,ae,ie,!1,null,"6618fe45",null);ne.options.__file="AnimationControls.vue";var oe=ne.exports;window.app={},window.app.yearColors="#000 #e69f00 #56b4e9 #009e73 #f0e442 #0072b2 #d55e00 #cc79a7 #999999".split(" ");var le={name:"app",components:{Map:N,FeatureInfo:B,Legend:K,Filters:te,AnimationControls:oe},data(){return{sidebarOpen:!0}},created(){window.app.App=this,u.$on("select-feature",()=>this.sidebarOpen=!0)},watch:{sidebarOpen(){this.$nextTick(()=>window.map.resize())}}};a("948e");var ce=le,pe=(a("858e"),a("b0a0"),Object(Y["a"])(ce,s,r,!1,null,"49a09ffc",null));pe.options.__file="App.vue";var ue=pe.exports;i["a"].config.productionTip=!1,new i["a"]({render:e=>e(ue)}).$mount("#app")},6687:function(e,t,a){"use strict";var i=a("f4dd"),s=a.n(i);s.a},"69a1":function(e,t,a){},"858e":function(e,t,a){"use strict";var i=a("c59c"),s=a.n(i);s.a},"8afc":function(e,t,a){},"8faa":function(e,t,a){"use strict";var i=a("69a1"),s=a.n(i);s.a},b0a0:function(e,t,a){"use strict";var i=a("07bb"),s=a.n(i);s.a},bdf3:function(e,t,a){},c59c:function(e,t,a){},f4dd:function(e,t,a){}});
//# sourceMappingURL=app.0e17ad63.js.map